<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0"
    />
    <title>Research Insights Dashboard</title>
    <link
      rel="stylesheet"
      href="dashboard.css"
    />
    <script
      src="dashboard.js"
      defer
    ></script>
  </head>
  <body>
    <div class="dashboard-container">
      <!-- Header -->
      <header class="dashboard-header">
        <div class="header-content">
          <div class="logo">
            <img
              class="logo-icon"
              src="/images/logo.png"
              alt="Logo Star"
            />
            <img
              class="logo-name"
              src="/images/name.png"
              alt="NovaMind"
            />
          </div>
          <div class="header-stats">
            <div class="stat-card">
              <div
                class="stat-value"
                id="totalPapers"
              >
                0
              </div>
              <div class="stat-label">Papers Analysed</div>
            </div>

            <div class="stat-card">
              <div
                class="stat-value"
                id="totalConnections"
              >
                0
              </div>
              <div class="stat-label">Connections Found</div>
            </div>
          </div>
          <!-- Highlights Button -->
          <div class="header-actions">
            <button
              class="header-btn"
              id="highlightsBtn"
            >
              <span>Highlights</span>
            </button>
          </div>
        </div>
      </header>

      <!-- Main Content -->
      <main class="main-content">
        <!-- Search and Filters -->
        <section class="search-section">
          <div class="search-container">
            <div class="search-bar">
              <span class="search-icon">üîç</span>
              <input
                type="text"
                id="searchInput"
                placeholder="Search papers by title, findings, or methodology..."
                autocomplete="off"
              />
              <button
                class="clear-search"
                id="clearSearch"
                style="display: none"
              >
                ‚úï
              </button>
            </div>
            <div class="filters">
              <select
                id="sortSelect"
                class="filter-select"
              >
                <option value="recent">Most Recent</option>
                <option value="oldest">Oldest First</option>
                <option value="connections">Most Connections</option>
              </select>
              <select
                id="connectionFilter"
                class="filter-select"
              >
                <option value="all">All Papers</option>
                <option value="connected">Has Connections</option>
                <option value="isolated">No Connections</option>
              </select>
            </div>
          </div>
        </section>

        <!-- Papers Grid -->
        <section class="papers-section">
          <div class="section-header">
            <h2>Research Papers</h2>
            <span
              class="results-count"
              id="resultsCount"
              >0 papers</span
            >
          </div>
          <div
            class="papers-grid"
            id="papersGrid"
          >
            <!-- Papers will be inserted here -->
            <div class="empty-state">
              <h3>No papers analysed yet</h3>
              <p>
                Visit arXiv, PubMed, or other supported sites and click "Analyse
                Paper" to get started
              </p>
            </div>
          </div>
        </section>
      </main>

      <!-- NEW: Highlights Side Panel -->
      <div
        class="highlights-panel"
        id="highlightsPanel"
      >
        <div class="highlights-panel-header">
          <h2>Saved Highlights</h2>
          <button
            class="panel-close"
            id="closePanelBtn"
          >
            √ó
          </button>
        </div>
        <div
          class="highlights-panel-body"
          id="highlightsPanelBody"
        >
          <!-- Highlights will be inserted here -->
          <div class="empty-state-small">
            <p>No highlights saved yet</p>
            <p class="hint">
              Select text on a research paper and choose "Save Highlight" from
              the context menu
            </p>
          </div>
        </div>
      </div>

      <!-- NEW: Highlights Detail Modal -->
      <div
        id="highlightsModal"
        class="modal"
      >
        <div class="modal-content modal-large">
          <div class="modal-header">
            <h2
              class="modal-title"
              id="highlightsModalTitle"
            >
              Paper Highlights
            </h2>
            <button class="modal-close">√ó</button>
          </div>
          <div
            class="modal-body"
            id="highlightsModalBody"
          >
            <!-- Highlight details will be inserted here -->
          </div>
        </div>
      </div>

      <!-- Connection Details Modal -->
      <div
        id="connectionModal"
        class="modal"
      >
        <div class="modal-content">
          <div class="modal-header">
            <h2 class="modal-title">Paper Connections</h2>
            <button class="modal-close">√ó</button>
          </div>
          <div
            class="modal-body"
            id="connectionModalBody"
          >
            <!-- Connection details will be inserted here -->
          </div>
        </div>
      </div>

      <!-- Paper Details Modal -->
      <div
        id="paperModal"
        class="modal"
      >
        <div class="modal-content modal-large">
          <div class="modal-header">
            <h2
              class="modal-title"
              id="paperModalTitle"
            >
              Paper Details
            </h2>
            <button class="modal-close">√ó</button>
          </div>
          <div
            class="modal-body"
            id="paperModalBody"
          ></div>
        </div>
      </div>

      <!-- Backdrop for side panel -->
      <div
        class="panel-backdrop"
        id="panelBackdrop"
      ></div>
    </div>
  </body>
</html>
