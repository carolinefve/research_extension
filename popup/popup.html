<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0"
    />
    <title>Research Insights</title>
    <link
      rel="stylesheet"
      href="popup.css"
    />
    <script
      src="popup.js"
      defer
    ></script>
  </head>
  <body>
    <div class="popup-container">
      <header class="popup-header">
        <div class="header-content">
          <div class="logo">
            <img
              class="logo-icon"
              src="/images/logo.png"
              alt="Logo Star"
            />
            <img
              class="logo-name"
              src="/images/name.png"
              alt="NovaMind"
            />
          </div>

          <div class="status-indicator">
            <span class="status-dot ready"></span>
            <span class="status-text">Ready</span>
          </div>
        </div>
      </header>

      <main class="popup-main">
        <section class="actions-section">
          <button
            class="action-btn primary"
            id="analyseBtn"
          >
            <img
              class="btn-icon"
              src="/images/search.png"
              alt="Search Icon"
            />

            <div class="btn-content">
              <span class="btn-text">Analyse Current Page</span>
            </div>
          </button>

          <button class="action-btn secondary">
            <img
              class="btn-icon"
              src="/images/insights.png"
              alt="Insights Icon"
            />
            <div class="btn-content">
              <span class="btn-text">View Insights Dashboard</span>
            </div>
          </button>
        </section>

        <section class="stats-section">
          <div class="stats-grid">
            <div class="stat-card">
              <div class="stat-number">0</div>
              <div class="stat-label">Analysed</div>
            </div>
            <div class="stat-card">
              <div class="stat-number">0</div>
              <div class="stat-label">Connections</div>
            </div>
          </div>
        </section>

        <section class="recent-section">
          <h3 class="section-title">Most Recent Insight</h3>
          <div class="insights-list">
            <div class="insight-item">
              <div class="insight-header">
                <div class="insight-title">No analyses yet</div>
              </div>
              <div class="insight-text">
                Analyse your first paper to get started
              </div>
            </div>
          </div>
        </section>
      </main>

      <footer class="popup-footer">
        <div class="footer-top">
          <div class="footer-actions">
            <button
              class="footer-btn"
              id="settingsBtn"
              title="Settings"
            >
              <img
                class="btn-icon"
                src="/images/settings.png"
                alt="Settings Icon"
              />
            </button>
            <button
              class="footer-btn"
              id="helpBtn"
              title="Help & Documentation"
            >
              <img
                class="btn-icon"
                src="/images/question.png"
                alt="Question Mark"
              />
            </button>
          </div>
        </div>
      </footer>
    </div>

    <!-- Settings Modal -->
    <div
      id="settingsModal"
      class="modal"
    >
      <div class="modal-content">
        <div class="modal-header">
          <h2 class="modal-title">Settings</h2>
          <button class="modal-close">&times;</button>
        </div>
        <div class="modal-body">
          <div class="settings-section">
            <div class="setting-item">
              <div class="setting-info">
                <div class="setting-label">Summary length preference</div>
                <div class="setting-description">
                  Choose how detailed you want paper summaries
                </div>
              </div>
              <select
                id="summaryLength"
                class="setting-select"
              >
                <option value="short">Short (Quick overview)</option>
                <option
                  value="medium"
                  id="autoAnalyse"
                  selected
                >
                  Medium (Balanced)
                </option>
                <option value="long">Long (Comprehensive)</option>
              </select>
            </div>

            <div class="setting-item">
              <div class="setting-info">
                <div class="setting-label">Connection detection</div>
                <div class="setting-description">
                  Find relationships between analysed papers
                </div>
              </div>
              <label class="toggle">
                <input
                  type="checkbox"
                  id="connectionDetection"
                  checked
                />
                <span class="toggle-slider"></span>
              </label>
            </div>
          </div>

          <div class="danger-zone">
            <button
              id="clearDataBtn"
              class="danger-btn"
            >
              Clear All Data
            </button>
            <div class="danger-warning">
              This will permanently delete all analysed papers and insights.
              <br /><br />
              <strong>Note:</strong> To save storage, the extension keeps a
              maximum of 50 analyses. Older analyses are automatically deleted
              as new ones are added.
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Help Modal -->
    <div
      id="helpModal"
      class="modal"
    >
      <div class="modal-content modal-large">
        <div class="modal-header">
          <h2 class="modal-title">Help & Features</h2>
          <button class="modal-close">&times;</button>
        </div>
        <div class="modal-body">
          <div class="help-content-single">
            <h3>Paper Analysis</h3>
            <ol class="help-steps">
              <li>
                <strong>Visit a supported research site</strong>
                <p>Navigate to arXiv or IEEE Xplore</p>
              </li>
              <li>
                <strong>Open a research paper</strong>
                <p>
                  Works with both HTML pages and PDF files. PDF extraction
                  extracts the full paper content including introduction and
                  conclusion sections.
                </p>
              </li>
              <li>
                <strong>Click "Analyse Current Page"</strong>
                <p>
                  Processing takes 30-60 seconds using on-device AI to extract:
                  summary, key findings, methodology, research gaps, and future
                  research directions
                </p>
              </li>
              <li>
                <strong>Review insights and connections</strong>
                <p>
                  View the detailed analysis and discover how this paper relates
                  to previously analysed papers
                </p>
              </li>
              <li>
                <strong>Export your analysis</strong>
                <p>Save the analysis as a PDF for future reference</p>
              </li>
            </ol>
          </div>

          <div class="help-section">
            <h3>Text Assistant Features</h3>
            <p>Select any text on a paper, right-click, and choose</p>
            <div class="features-list">
              <div class="feature-item">
                <div class="feature-info">
                  <div class="feature-name">Simplify Text</div>
                  <div class="feature-desc">
                    To get a more casual, easier-to-read
                  </div>
                </div>
              </div>

              <div class="feature-item">
                <div class="feature-info">
                  <div class="feature-name">Explain Text</div>
                  <div class="feature-desc">
                    To get detailed explanations of complex concepts.
                  </div>
                </div>
              </div>

              <div class="feature-item">
                <div class="feature-info">
                  <div class="feature-name">Ask a Question</div>
                  <div class="feature-desc">
                    To type your question about the selected content
                  </div>
                </div>
              </div>

              <div class="feature-item">
                <div class="feature-info">
                  <div class="feature-name">Save Highlights</div>
                  <div class="feature-desc">
                    To bookmark key passages and access all highlights from the
                    Dashboard
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
